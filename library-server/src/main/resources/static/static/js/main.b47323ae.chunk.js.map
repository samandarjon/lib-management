{"version":3,"sources":["utils/setJWToken.js","actions/types.js","actions/AuthAction.js","component/layout/Header.js","component/layout/Footer.js","reducers/bookReducer.js","reducers/errorReducers.js","reducers/rentReducer.js","reducers/securityReducers.js","reducers/index.js","store.js","component/auth/Login.js","component/auth/Register.js","actions/BookAction.js","validation/is-empty.js","actions/RentAction.js","component/book/BookItem.js","component/book/Book.js","component/layout/Landing.js","component/common/PrivateRoute.js","component/rent/RentItem.js","component/rent/Rent.js","component/book/BookInfo.js","component/exceptions/NotFound.js","component/admin/Admin.js","component/admin/AddBook.js","component/exceptions/Wrong.js","App.js","reportWebVitals.js","index.js"],"names":["setJWToken","token","axios","defaults","headers","common","GET_ERRORS","GET_BOOKS","GET_BOOK","GET_RENT","GET_RENTS","DELETE_RENT","SET_CURRENT_USER","setCurrentUser","decode","type","payload","logout","dispatch","localStorage","removeItem","Header","props","window","location","href","signUpChecking","security","user","validToken","role","roleName","className","to","username","signInChecking","onClick","this","Component","connect","state","Footer","initialState","books","book","rents","rent","combineReducers","errors","action","filter","e","id","middleware","thunk","ReactReduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","store","navigator","userAgent","includes","createStore","rootReducers","compose","applyMiddleware","Login","onChange","setState","target","name","value","onSubmit","preventDefault","newLogin","email","password","login","history","getError","invalid","push","newProps","placeholder","userData","post","then","res","data","setItem","jwt_decode","catch","err","response","Register","newUser","prePassword","confirmPassword","createNewUser","length","console","log","getAllBooks","page","get","isEmpty","undefined","Object","keys","trim","getRents","Axios","getRentsForAdmin","BookItem","getRentButton","isRent","amount","setRent","src","attachmentId","alt","author","writtenYear","propTpes","PropTypes","func","isRequired","Book","items","content","map","bookDto","Pagination","count","totalPages","Landing","event","bind","component","rest","render","RentItem","deleteRent","format","createdAt","removeRent","delete","Rent","match","params","rentItems","item","scope","BookInfo","getBook","description","NotFound","Admin","deleteRentAdmin","AddBook","newBook","saveBook","file","onFileChange","files","required","min","attach","File","FormData","append","error","Wrong","jwtToken","decoded","Date","now","exp","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b47323ae.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst setJWToken = token => {\r\n    if (token) {\r\n        // Apply to every request\r\n        axios.defaults.headers.common['Authorization'] = token;\r\n    } else {\r\n        // Delete auth header\r\n        delete axios.defaults.headers.common['Authorization'];\r\n    }\r\n};\r\nexport default setJWToken;","export const GET_ERRORS = \"GET_ERRORS\"\r\nexport const GET_BOOKS = \"GET_BOOKS\"\r\nexport const GET_BOOK = \"GET_BOOK\"\r\n\r\nexport const GET_RENT = \"GET_RENT\"\r\nexport const GET_RENTS = \"GET_RENTS\"\r\nexport const DELETE_RENT = \"DELETE_RENT\"\r\n\r\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\"\r\n","import setJWToken from \"../utils/setJWToken\";\r\nimport { GET_ERRORS, SET_CURRENT_USER } from \"./types\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport axios from \"axios\";\r\n\r\nexport const login = (userData, history) => dispatch => {\r\n    axios\r\n        .post(\"/api/auth/login\", userData)\r\n        .then(res => {\r\n            const { token, type } = res.data;\r\n            // Set token to ls\r\n            localStorage.setItem(\"jwtToken\", type + token);\r\n            // Set token to Auth header\r\n            setJWToken(type + token);\r\n            // Decode token to get user data\r\n            const decode = jwt_decode(token);\r\n            // Set current user\r\n            dispatch(setCurrentUser(decode));\r\n            history.push(\"/\")\r\n\r\n        })\r\n        .catch(err =>\r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            }));\r\n};\r\nexport const setCurrentUser = decode => {\r\n    return {\r\n        type: SET_CURRENT_USER,\r\n        payload: decode\r\n    };\r\n};\r\nexport const logout = () => dispatch => {\r\n    // Remove token from localStorage\r\n    localStorage.removeItem(\"jwtToken\");\r\n    // Remove auth header from future request\r\n    setJWToken(false);\r\n    // Set current user to {} which will set isAuthenticated to false\r\n    dispatch(setCurrentUser({}));\r\n};\r\n\r\nexport const createNewUser = (user, history) => dispatch => {\r\n    axios\r\n        .post(\"/api/auth/register\", user)\r\n        .then(res => {\r\n            const { token, type } = res.data;\r\n            // Set token to ls\r\n            localStorage.setItem(\"jwtToken\", type + token);\r\n            // Set token to Auth header\r\n            setJWToken(type + token);\r\n            // Decode token to get user data\r\n            const decode = jwt_decode(token);\r\n            console.log(decode);\r\n            // Set current user\r\n            dispatch(setCurrentUser(decode));\r\n            history.push(\"/\")\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        })\r\n\r\n}\r\n","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {connect} from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport {logout} from \"../../actions/AuthAction\";\r\n\r\nclass Header extends Component {\r\n\r\n    logout = () => {\r\n        this.props.logout();\r\n        window.location.href = \"/\"\r\n    }\r\n\r\n    signUpChecking = (security) => {\r\n\r\n        const {user, validToken} = security\r\n\r\n        if (validToken) {\r\n            if (user.role[0].roleName===\"ROLE_USER\") {\r\n                return (<Link className=\"nav-link\" to={`/user/${user.username}`}>\r\n                        <i className=\"fas fa-user-circle mr-1\"></i>\r\n                        My books\r\n                    </Link>\r\n                )\r\n            }\r\n            else{\r\n                return <Link className=\"nav-link\" to=\"/admin\">Rental management</Link>\r\n            }\r\n\r\n        } else {\r\n            return (<Link className=\"nav-link \" to=\"/register\">\r\n                Sign Up\r\n            </Link>)\r\n        }\r\n    }\r\n\r\n    signInChecking = (security) => {\r\n\r\n        if (security.validToken) {\r\n            return (\r\n                <Link className=\"nav-link bg-red\" onClick={this.logout} to=\"logout\">\r\n                    Logout\r\n                </Link>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <Link className=\"nav-link\" to=\"/login\">\r\n                Login\r\n            </Link>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <nav className=\"navbar navbar-expand-sm navbar-dark bg-primary mb-4\">\r\n                <div className=\"container col-7\">\r\n                    <Link className=\"navbar-brand bold\" to=\"/\">\r\n                        LIBRARY\r\n                    </Link>\r\n\r\n                    <div className=\"collapse navbar-collapse\">\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n                            <li className=\"nav-item\">\r\n                                {this.signUpChecking(this.props.security)}\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                {this.signInChecking(this.props.security)}\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\n\r\nHeader.propTypes = {\r\n    security: PropTypes.object.isRequired,\r\n    logout: PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    security: state.security\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(Header);\r\n","import React from 'react'\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"page-footer font-small pt-4\">\r\n\r\n            <div className=\"container mb-1 pb-0\">\r\n\r\n                <ul className=\"list-unstyled list-inline text-center\">\r\n                    <li className=\"list-inline-item\">\r\n                        <a className=\"btn-floating btn-dribbble mx-1\" href=\" https://telegram.me/bahodirmarupov\">\r\n                            <i className=\"fab fa-telegram\"></i>\r\n                        </a>\r\n                    </li>\r\n                    <li className=\"list-inline-item\">\r\n                        <a className=\"btn-floating btn-fb mx-1\" href=\"https://www.facebook.com/bahodir.marupov.7\">\r\n                            <i className=\"fab fa-facebook-f\"> </i>\r\n                        </a>\r\n                    </li>\r\n                    <li className=\"list-inline-item\">\r\n                        <a className=\"btn-floating btn-gplus mx-1\" href=\"https://github.com/BahodirMarupov\">\r\n                            <i className=\"fab fa-github\"></i>\r\n                        </a>\r\n                    </li>\r\n                    <li className=\"list-inline-item\">\r\n                        <a className=\"btn-floating btn-li mx-1\" href=\"https://www.linkedin.com/in/bahodir-marupov/\">\r\n                            <i className=\"fab fa-linkedin-in\"> </i>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n\r\n            </div>\r\n\r\n            <div className=\"footer-copyright text-center py-3\">Â© 2020 Bahodir Marupov\r\n            </div>\r\n\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import {GET_BOOK, GET_BOOKS,} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n    books: {},\r\n    book: {},\r\n};\r\n\r\nexport default (state = initialState, {type, payload}) => {\r\n    switch (type) {\r\n        case GET_BOOKS:\r\n            return {...state, books: payload};\r\n\r\n        case GET_BOOK:\r\n            return {...state, book: payload};\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n  ","import { GET_ERRORS } from \"../actions/types\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_ERRORS:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {DELETE_RENT, GET_RENT, GET_RENTS,} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n    rents: [],\r\n    rent: {},\r\n};\r\n\r\nexport default (state = initialState, {type, payload}) => {\r\n    switch (type) {\r\n        case GET_RENTS:\r\n            return {...state, rents: payload};\r\n\r\n        case GET_RENT:\r\n            return {...state, rent: payload};\r\n\r\n        case DELETE_RENT:\r\n            return {\r\n                ...state,\r\n                rents: state.rents.filter(\r\n                    (e) => e.id !== payload\r\n                ),\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n  ","import { SET_CURRENT_USER } from \"../actions/types\"\r\n\r\nconst initialState = {\r\n    user: {},\r\n    validToken: false\r\n}\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n    switch (type) {\r\n\r\n        case SET_CURRENT_USER:\r\n            return {\r\n                ...state,\r\n                user: payload,\r\n                validToken: payload?true:false\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport bookReducer from \"./bookReducer\";\r\nimport errorReducers from \"./errorReducers\";\r\nimport rentReducer from \"./rentReducer\";\r\nimport securityReducers from \"./securityReducers\";\r\n\r\nexport default combineReducers({\r\n  errors: errorReducers,\r\n  rents: rentReducer,\r\n  books: bookReducer,\r\n  security: securityReducers\r\n});\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducers from \"./reducers\";\r\n\r\nconst initialState = {};\r\nconst middleware = [thunk];\r\n\r\nconst ReactReduxDevTools =\r\nwindow.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__();\r\n\r\nlet store;\r\n\r\nif (window.navigator.userAgent.includes(\"Chrome\") && ReactReduxDevTools) {\r\n    store = createStore(\r\n      rootReducers,\r\n      initialState,\r\n      compose(applyMiddleware(...middleware),\r\n      ReactReduxDevTools)\r\n    );\r\n  } else {\r\n    store = createStore(\r\n      rootReducers,\r\n      initialState,\r\n      compose(applyMiddleware(...middleware))\r\n    );\r\n  }\r\n  \r\n  export default store;","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { login } from '../../actions/AuthAction'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Login extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            errors: {},\r\n            email: \"\",\r\n            password: \"\"\r\n        }\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        const newLogin = {\r\n            username: this.state.email,\r\n            password: this.state.password\r\n        }\r\n        this.props.login(newLogin, this.props.history);\r\n    }\r\n\r\n    componentDidMount(){\r\n        if(this.props.security.validToken){\r\n            this.props.history.push(\"/dashboard\")\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n\r\n        if(newProps.security.validToken){\r\n            this.props.history.push(\"/dashboard\")\r\n        }\r\n\r\n        if (newProps.errors) {\r\n            this.setState({ errors: newProps.errors })\r\n        }\r\n    }\r\n\r\n    getError = (invalid) => {\r\n        if(invalid){\r\n            return (\r\n                <div className=\"pb-3 pt-3\">\r\n                    <div className=\"alert alert-danger text-center w-50 m-auto\" role=\"alert\">{invalid}</div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"login\">\r\n                <div className=\"container \">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-6 m-auto pb-5\">\r\n                            <h1 className=\"display-4 text-center\">Log In</h1>\r\n                            {this.getError(this.state.errors.invalid)}\r\n                            <form onSubmit={this.onSubmit}>\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"text\" className={`${this.state.errors.username && this.state.email === \"\" ?\r\n                                        \"form-control form-control-lg is-invalid\" : \"form-control form-control-lg\"}`} placeholder=\"Username\" name=\"email\" value={this.state.email}\r\n                                           onChange={this.onChange} />\r\n                                    <div className=\"invalid-feedback\">{this.state.errors.username}</div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"password\" className={`${this.state.errors.password && this.state.password === \"\" ?\r\n                                        \"form-control form-control-lg is-invalid\" : \"form-control form-control-lg\"}`} placeholder=\"Password\" name=\"password\" value={this.state.password}\r\n                                           onChange={this.onChange} />\r\n                                    <div className=\"invalid-feedback\">{this.state.errors.password}</div>\r\n                                </div>\r\n                                <input type=\"submit\" className=\"btn btn-info btn-block mt-4\" />\r\n                            </form>\r\n                            <div className=\"text-center mt-4\">Not registered? <Link className=\"btn btn-outline-primary\" to=\"/register\">Register</Link></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nLogin.propTypes = {\r\n    login: PropTypes.func.isRequired,\r\n    errors: PropTypes.object.isRequired,\r\n    security:PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    errors: state.errors,\r\n    security:state.security\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, { login })(Login);","import React, {Component} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {connect} from 'react-redux'\r\nimport {createNewUser} from '../../actions/AuthAction'\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Register extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            errors: {},\r\n            username: \"\",\r\n            password: \"\",\r\n            confirmPassword: \"\"\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.errors) {\r\n            this.setState({\r\n                errors: newProps.errors\r\n            })\r\n        }\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        let newUser = {\r\n            username: this.state.username,\r\n            password: this.state.password,\r\n            prePassword: this.state.confirmPassword\r\n        };\r\n        this.props.createNewUser(newUser, this.props.history);\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({[e.target.name]: e.target.value})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"register\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-6 m-auto pb-5 \">\r\n                            <h1 className=\"display-4 text-center\">Sign Up</h1>\r\n                            <p className=\"lead text-center\">Create your Account</p>\r\n                            <form onSubmit={this.onSubmit}>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"text\"\r\n                                           className={`${this.state.errors.username ?\r\n                                               \"form-control form-control-lg is-invalid\" : \"form-control form-control-lg\"}`}\r\n                                           placeholder=\"Username\" name=\"username\" value={this.state.username}\r\n                                           onChange={this.onChange}/>\r\n                                    <div className=\"invalid-feedback\">{this.state.errors.username}</div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"password\"\r\n                                           className={`${(this.state.errors.password && this.state.password === \"\") ||\r\n                                           (this.state.errors.password && this.state.password.length < 6) ?\r\n                                               \"form-control form-control-lg is-invalid\" : \"form-control form-control-lg\"}`}\r\n                                           placeholder=\"Password\" name=\"password\" value={this.state.password}\r\n                                           onChange={this.onChange}/>\r\n                                    <div className=\"invalid-feedback\">{this.state.errors.password}</div>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"password\"\r\n                                           className={`${this.state.errors.prePassword && this.state.password !== this.state.confirmPassword ?\r\n                                               \"form-control form-control-lg is-invalid\" : \"form-control form-control-lg\"}`}\r\n                                           placeholder=\"Confirm Password\"\r\n                                           name=\"confirmPassword\" value={this.state.confirmPassword}\r\n                                           onChange={this.onChange}/>\r\n                                    <div className=\"invalid-feedback\">{this.state.errors.prePassword}</div>\r\n                                </div>\r\n                                <input type=\"submit\" className=\"btn btn-info btn-block mt-4\"/>\r\n                            </form>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nRegister.propTypes = {\r\n    createNewUser: PropTypes.func.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    errors: state.errors\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {createNewUser})(Register);","import Axios from \"axios\";\r\nimport axios from \"axios\";\r\nimport {GET_BOOK, GET_BOOKS, GET_ERRORS} from \"./types\";\r\n\r\nexport const getAllBooks = (page = 0) => dispatch => {\r\n\r\n    axios\r\n        .get(\"/api/book?page=\" + page)\r\n        .then(res => {\r\n            dispatch({\r\n                type: GET_BOOKS,\r\n                payload: res.data\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const getBook = (id) => dispatch => {\r\n    Axios.get(\"/api/book/\" + id)\r\n        .then((res) => {\r\n            dispatch({\r\n                type: GET_BOOK,\r\n                payload: res.data\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nexport const deleteBook = (id) => dispatch => {\r\n    Axios.delete(\"/api/book/\" + id)\r\n        .then(() => {\r\n            dispatch(getAllBooks())\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nexport const saveBook = (book, attach, history) => dispatch => {\r\n    if (attach instanceof File) {\r\n        const file = new FormData();\r\n        file.append('file', attach)\r\n        Axios.post(\"/api/img/upload\", file)\r\n            .then(res => {\r\n                book.attachmentId = res.data[0]\r\n                console.log(book)\r\n                Axios.post(\"/api/book\", book)\r\n                    .then(() => {\r\n                        dispatch({\r\n                            type: GET_ERRORS,\r\n                            payload: {}\r\n                        });\r\n                        history.push(\"/admin\");\r\n                    })\r\n                    .catch(error => {\r\n                        dispatch({\r\n                            type: GET_ERRORS,\r\n                            payload: error.response.data\r\n                        });\r\n                    })\r\n            }).catch(err => {\r\n            history.push(\"/wrong\")\r\n            console.log(err);\r\n        })\r\n    }\r\n}\r\n","const isEmpty = (value) =>\r\n    value === undefined ||\r\n    value === null ||\r\n    (typeof value === 'object' && Object.keys(value).length === 0) ||\r\n    (typeof value === 'string' && value.trim().length === 0);\r\n\r\nexport default  isEmpty;","import Axios from \"axios\"\r\nimport {GET_RENT, GET_RENTS} from \"./types\"\r\nimport {getAllBooks} from \"./BookAction\";\r\n\r\nexport const getRents = () => dispatch => {\r\n    Axios\r\n        .get(\"/api/rent/myBooks\")\r\n        .then(res => {\r\n            dispatch({\r\n                type: GET_RENTS,\r\n                payload: res.data\r\n            })\r\n        }).catch(e => {\r\n        console.log(e);\r\n    })\r\n}\r\nexport const getRentsForAdmin = () => dispatch => {\r\n    Axios\r\n        .get(\"/api/rent\")\r\n        .then(res => {\r\n            dispatch({\r\n                type: GET_RENTS,\r\n                payload: res.data\r\n            })\r\n        }).catch(e => {\r\n        console.log(e);\r\n    })\r\n}\r\n\r\nexport const deleteRent = (id) => dispatch => {\r\n    Axios.delete(\"/api/rent/\" + id).then(() => {\r\n        dispatch(getRents())\r\n    }).catch(\r\n        e => {\r\n            console.log(e);\r\n        }\r\n    )\r\n}\r\nexport const deleteRentAdmin = (id) => dispatch => {\r\n    Axios.delete(\"/api/rent/\" + id).then(() => {\r\n        dispatch(getRentsForAdmin())\r\n    }).catch(\r\n        e => {\r\n            console.log(e);\r\n        }\r\n    )\r\n}\r\n\r\nexport const getRent = (id) => dispatch => {\r\n    Axios.get(\"/api/rent/\" + id).then(res =>\r\n        dispatch({\r\n            type: GET_RENT,\r\n            payload: res.data\r\n        })).catch(e => {\r\n        console.log(e);\r\n    })\r\n}\r\n\r\nexport const setRent = (id) => dispatch => {\r\n    Axios.post(\"/api/rent/\" + id).then(() => {\r\n        dispatch(getAllBooks());\r\n        dispatch(getRents())\r\n    }).catch(\r\n        e => {\r\n            console.log(e);\r\n        }\r\n    )\r\n}","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport PropTypes from 'prop-types'\r\nimport {connect} from 'react-redux';\r\nimport {setRent} from '../../actions/RentAction';\r\nimport '../../bookItem.css';\r\n\r\nclass BookItem extends Component {\r\n\r\n\r\n    getRentButton = (isRent, validToken, user, id, amount) => {\r\n        if (amount > 0) {\r\n            if (validToken) {\r\n                if (user.role[0].roleName === \"ROLE_USER\") {\r\n                    if (isRent) {\r\n                        return <div type=\"button\" className=\"btn btn-primary mx-2 disabled\">Rented</div>\r\n                    } else {\r\n                        return <button type=\"button\" onClick={() => this.props.setRent(id)}\r\n                                       className=\"btn btn-primary mx-2\">Rent</button>\r\n                    }\r\n                }\r\n                return \"\";\r\n            }\r\n            return <Link to=\"/login\" className=\"btn btn-primary mx-2\">Rent</Link>;\r\n        }\r\n        return \"\"\r\n    }\r\n\r\n    render() {\r\n        const {book, isRent, user, validToken} = this.props;\r\n        const imgCss = {\r\n            hight: \"100px\"\r\n        }\r\n        return (\r\n            <div className={\"col-sm-3 mb-2\"}>\r\n                <div className=\"card \">\r\n                    <img className=\"card-img-top img-fluid img-file-style\"\r\n                         src={\"https://liam-library-management-system.herokuapp.com/api/img/download/\" + book.attachmentId}\r\n                         alt=\"picture\"/>\r\n                    <div className=\"card-body\">\r\n                        <h5 className=\"card-title\">{book.name}</h5>\r\n                        <p className=\"card-text\">Written by {book.author}</p>\r\n                        <p className=\"card-text\">({book.writtenYear})</p>\r\n                        <p className=\"card-text\"> {book.amount} left in library</p>\r\n                        <Link to={\"/book/\" + book.id} className=\"btn btn-success mx-2\">View</Link>\r\n                        {this.getRentButton(isRent, validToken, user, book.id, book.amount)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nBookItem.propTpes = {\r\n    setRent: PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => ({})\r\n\r\nexport default connect(mapStateToProps, {setRent})(BookItem);\r\n\r\n","import React, { Component } from 'react'\r\nimport BookItem from './BookItem';\r\nimport { Pagination } from '@material-ui/lab';\r\n\r\nclass Book extends Component {\r\n\r\n    render() {\r\n        let { books, rents, onChange, validToken, user } = this.props;\r\n        let items;\r\n        let rentItems;\r\n        if (books.content) {\r\n            if (books.content.length > 0) {\r\n                items = books.content.map((book) => {\r\n                    if (rents.length > 0) {\r\n                        rentItems = rents.filter((e) => e.bookDto.id === book.id);\r\n                        if (rentItems.length > 0) {\r\n                            return <BookItem book={book} isRent={true} validToken={validToken} user={user} />\r\n                        }\r\n                        else {\r\n                            return <BookItem book={book} isRent={false} validToken={validToken} user={user} />\r\n                        }\r\n                    }\r\n                    else{\r\n                        return <BookItem book={book} isRent={false} validToken={validToken} user={user} />\r\n                    }\r\n\r\n                }\r\n                );\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div className={\"text-center\"}>\r\n                <div className={\"row\"}>{items}</div>\r\n                <Pagination count={books.totalPages} onChange={onChange} />\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default (Book);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { getAllBooks } from \"../../actions/BookAction\";\r\nimport isEmpty from \"../../validation/is-empty\";\r\nimport Book from \"../book/Book\";\r\nimport { getRents } from '../../actions/RentAction';\r\n\r\nclass Landing extends Component {\r\n\r\n\r\n    componentDidMount() {\r\n        this.props.getAllBooks(0);\r\n        if (this.props.security.validToken) {\r\n            this.props.getRents()\r\n        }\r\n    }\r\n\r\n    onChange = (event, page) => {\r\n        this.props.getAllBooks(page - 1);\r\n    }\r\n\r\n    render() {\r\n        const books = this.props.books;\r\n        const rents = this.props.rents;\r\n        const {user,validToken} = this.props.security;\r\n        let book;\r\n        if (!isEmpty(books)) {\r\n            book = <Book books={books} rents={rents} user={user} validToken={validToken} onChange={this.onChange.bind(this)} />\r\n        }\r\n        return (\r\n            <div className={\"container\"}>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md\">{book}</div>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nLanding.propTypes = {\r\n    books: PropTypes.object.isRequired,\r\n    rents: PropTypes.array.isRequired,\r\n    getAllBooks: PropTypes.func.isRequired,\r\n    getRents: PropTypes.func.isRequired\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    books: state.books.books,\r\n    rents: state.rents.rents,\r\n    security: state.security\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAllBooks, getRents })(Landing);","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst PrivateRoute = ({ component: Component, security, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={props =>\r\n            security.validToken === true ? (\r\n                <Component {...props} />\r\n            ) : (\r\n                <Redirect to=\"/login\" />\r\n            )\r\n        }\r\n    />\r\n);\r\nPrivateRoute.propTypes = {\r\n    security: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n    security: state.security\r\n});\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React, {Component} from 'react'\r\nimport PropTypes from \"prop-types\";\r\nimport {deleteRent} from \"../../actions/RentAction\";\r\nimport {connect} from \"react-redux\";\r\nimport Moment from \"react-moment\"\r\nclass RentItem extends Component {\r\n\r\n    removeRent(id) {\r\n        this.props.deleteRent(id)\r\n    }\r\n\r\n    render() {\r\n        const {rent} = this.props;\r\n        return (\r\n            <tr>\r\n                <td>{rent.bookDto.name}</td>\r\n                <td>{rent.bookDto.author}</td>\r\n                <td>{rent.bookDto.writtenYear}</td>\r\n                <td><Moment format=\"YYYY/MM/DD\">{rent.createdAt}</Moment></td>\r\n                <td>\r\n                    <button className=\"btn btn-danger\" type=\"button\" onClick={(event)=> this.removeRent(rent.id)}>give\r\n                        back\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n        )\r\n    }\r\n}\r\n\r\nRentItem.propTypes = {\r\n    deleteRent: PropTypes.func.isRequired\r\n}\r\nexport default connect(null, {deleteRent})(RentItem)\r\n","import React, {Component} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport isEmpty from '../../validation/is-empty';\r\nimport RentItem from './RentItem';\r\nimport {connect} from \"react-redux\";\r\nimport {getRents} from \"../../actions/RentAction\";\r\n\r\nclass Rent extends Component {\r\n\r\n    componentDidMount() {\r\n        const username = this.props.match.params.username;\r\n        const {user, validToken} = this.props.security\r\n        if (validToken) {\r\n            console.log(typeof username, user.username === username, typeof user.username)\r\n            if (!(user.username === (username))) {\r\n                this.props.history.push(\"/notFound\")\r\n            } else\r\n                this.props.getRents()\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const {rents} = this.props.rents\r\n        let rentItems;\r\n        if (!isEmpty(rents)) {\r\n            rentItems = rents.map(item => <RentItem rent={item}/>)\r\n        }\r\n\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md\">\r\n                        <table className=\"table table-hover\">\r\n                            <thead>\r\n                            <tr>\r\n                                <th scope=\"col\">Name</th>\r\n                                <th scope=\"col\">Author</th>\r\n                                <th scope=\"col\">writter year</th>\r\n                                <th scope=\"col\">rented time</th>\r\n                                <th scope=\"col\"/>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {rentItems}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nRent\r\n    .propTypes = {\r\n    rents: PropTypes.array.isRequired,\r\n    getRents: PropTypes.func.isRequired,\r\n    security: PropTypes.object.isRequired,\r\n\r\n}\r\n\r\nconst\r\n    mapStateToProps = (state) => ({\r\n        rents: state.rents,\r\n        security: state.security\r\n    })\r\n\r\nexport default connect(mapStateToProps, {getRents})(Rent)\r\n;","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { getBook } from '../../actions/BookAction'\r\n\r\nclass BookInfo extends Component {\r\n    static propTypes = {\r\n        getBook: PropTypes.func.isRequired,\r\n        book: PropTypes.object.isRequired\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.getBook(this.props.match.params.id)\r\n    }\r\n\r\n    render() {\r\n        const {book}=this.props;\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-4\">\r\n                        <img className=\"card-img-top img-fluid mr-3 mb-3\"\r\n                            src={\"https://liam-library-management-system.herokuapp.com/api/img/download/\" + book.attachmentId}\r\n                            alt=\"picture\" />\r\n                    </div>\r\n                    <div className=\"col-8\">\r\n                    <h3 className=\"text-center\">{book.name}</h3>\r\n                    <p className=\"bold text-center\">Written by {book.author} in {book.writtenYear}</p>\r\n                    <p>   {book.description}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    book: state.books.book\r\n})\r\n\r\nexport default connect(mapStateToProps, { getBook })(BookInfo);","import React, {Component} from 'react';\r\n\r\nclass NotFound extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                Not Found\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NotFound;","import React, {Component} from 'react';\r\nimport PropTypes from \"prop-types\"\r\nimport {connect} from \"react-redux\";\r\nimport {deleteRentAdmin, getRentsForAdmin} from \"../../actions/RentAction\";\r\nimport isEmpty from \"../../validation/is-empty\";\r\nimport Moment from \"react-moment\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass Admin extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state={\r\n            rents:[]\r\n        }\r\n    }\r\n\r\n    removeRent(id) {\r\n        this.props.deleteRentAdmin(id)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.getRentsForAdmin();\r\n    }\r\n\r\n    componentWillReceiveProps(newProps){\r\n        this.setState({rents:newProps.rents})\r\n    }\r\n\r\n    render() {\r\n        const rents = this.state.rents\r\n        let rentItems;\r\n        if (!isEmpty(rents)) {\r\n            rentItems = rents.map(rent => (\r\n                <tr>\r\n                    <td>{rent.user.username}</td>\r\n                    <td>{rent.bookDto.name}</td>\r\n                    <td>{rent.bookDto.author}</td>\r\n                    <td>{rent.bookDto.writtenYear}</td>\r\n                    <td><Moment format=\"YYYY/MM/DD\">{rent.createdAt}</Moment></td>\r\n                    <td>\r\n                        <button className=\"btn btn-danger\" type=\"button\"\r\n                                onClick={(event) => this.removeRent(rent.id)}>Take\r\n                            back\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            ))\r\n        }\r\n\r\n        return (\r\n            <div className={\"container\"}>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md\">\r\n                        <Link to=\"/add-book\" className={\"btn btn-info\"}>Add Book</Link>\r\n                        <h1 className={\"text-center\"}>User Rents</h1>\r\n                        <table className=\"table table-hover text-center\">\r\n                            <thead>\r\n                            <tr>\r\n                                <th scope=\"col\">User</th>\r\n                                <th scope=\"col\">Book name</th>\r\n                                <th scope=\"col\">Book Author</th>\r\n                                <th scope=\"col\">Written year</th>\r\n                                <th scope=\"col\">Rented time</th>\r\n                                <th scope=\"col\"/>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {rentItems}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nAdmin.propTypes = {\r\n    rents: PropTypes.array.isRequired,\r\n    getRentsForAdmin: PropTypes.func.isRequired,\r\n    deleteRentAdmin: PropTypes.func.isRequired,\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    rents: state.rents.rents\r\n})\r\nexport default connect(mapStateToProps, {getRentsForAdmin, deleteRentAdmin})(Admin);","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {saveBook} from \"../../actions/BookAction\";\r\nimport PropTypes from \"prop-types\"\r\n\r\nclass AddBook extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            name: \"\",\r\n            author: \"\",\r\n            description: \"\",\r\n            writtenYear: \"\",\r\n            amount: 1,\r\n            attachmentId: \"\",\r\n            file: {},\r\n            errors: {},\r\n        };\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        console.log(\"onsubmit\")\r\n        e.preventDefault();\r\n        let newBook = {\r\n            name: this.state.name,\r\n            author: this.state.author,\r\n            description: this.state.description,\r\n            writtenYear: this.state.writtenYear,\r\n            amount: this.state.amount,\r\n            attachmentId: this.state.attachmentId\r\n        }\r\n        this.props.saveBook(newBook, this.state.file, this.props.history)\r\n    };\r\n\r\n    onChange = (e) => {\r\n        this.setState({[e.target.name]: e.target.value});\r\n    };\r\n    onFileChange = (e) => {\r\n        this.setState({file: e.target.files[0]})\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.errors) {\r\n            this.setState({errors: newProps.errors})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"add-PBI\">\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-6 m-auto\">\r\n                                <Link\r\n                                    to={`/admin`}\r\n                                    className=\"btn btn-light\"\r\n                                >\r\n                                    Go back\r\n                                </Link>\r\n                                <h4 className=\"display-4 text-center\">Add book</h4>\r\n                                <form onSubmit={this.onSubmit}>\r\n                                    <div className=\"form-group\">\r\n                                        <input\r\n                                            required\r\n                                            type=\"text\"\r\n                                            className={`${this.state.errors.name && this.state.name === \"\" ? \"form-control form-control-lg is-invalid\" : \"form-control form-control-lg\"}`}\r\n                                            name=\"name\"\r\n                                            placeholder=\"Book name\"\r\n                                            value={this.state.name}\r\n                                            onChange={this.onChange}\r\n                                        />\r\n                                        <div className=\"invalid-feedback\">{this.state.errors.name}</div>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <input\r\n                                            required\r\n                                            type=\"text\"\r\n                                            className={`${this.state.errors.author && this.state.author === \"\" ? \"form-control form-control-lg is-invalid\" : \"form-control form-control-lg\"}`}\r\n                                            name=\"author\"\r\n                                            placeholder=\"Author\"\r\n                                            value={this.state.author}\r\n                                            onChange={this.onChange}\r\n                                        />\r\n                                        <div className=\"invalid-feedback\">{this.state.errors.author}</div>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <textarea\r\n                                            required\r\n                                            className=\"form-control form-control-lg\"\r\n                                            placeholder=\"Description\"\r\n                                            name=\"description\"\r\n                                            value={this.state.description}\r\n                                            onChange={this.onChange}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <input\r\n                                            required\r\n                                            type=\"date\"\r\n                                            className=\"form-control form-control-lg\"\r\n                                            name=\"writtenYear\"\r\n                                            value={this.state.writtenYear}\r\n                                            onChange={this.onChange}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <input\r\n                                            required\r\n                                            type=\"number\"\r\n                                            min=\"1\"\r\n                                            className=\"form-control form-control-lg\"\r\n                                            name=\"amount\"\r\n                                            placeholder=\"Amount\"\r\n                                            value={this.state.amount}\r\n                                            onChange={this.onChange}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <input type=\"file\" name={\"file\"}\r\n                                               onChange={this.onFileChange}/>\r\n                                    </div>\r\n                                    <input\r\n                                        type=\"submit\"\r\n                                        className=\"btn btn-primary btn-block mt-4\"\r\n                                    />\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nAddBook.propTypes = {\r\n    saveBook: PropTypes.func.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, {saveBook})(AddBook);\r\n","import React, {Component} from 'react';\r\n\r\nclass Wrong extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1 className={\"event-danger text-center\"}>Something is wrong!!</h1>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Wrong;","import './App.css';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { Provider } from 'react-redux'\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport Header from \"./component/layout/Header\";\r\nimport Footer from \"./component/layout/Footer\";\r\nimport store from \"./store\";\r\nimport setJWToken from \"./utils/setJWToken\";\r\nimport { SET_CURRENT_USER } from \"./actions/types\";\r\nimport { logout } from \"./actions/AuthAction\";\r\nimport Login from \"./component/auth/Login\";\r\nimport Register from \"./component/auth/Register\";\r\nimport Landing from \"./component/layout/Landing\";\r\nimport PrivateRoute from \"./component/common/PrivateRoute\";\r\nimport Rent from './component/rent/Rent';\r\nimport BookInfo from './component/book/BookInfo';\r\nimport NotFound from \"./component/exceptions/NotFound\";\r\nimport Admin from \"./component/admin/Admin\";\r\nimport AddBook from './component/admin/AddBook';\r\nimport Wrong from \"./component/exceptions/Wrong\";\r\n\r\nconst token = localStorage.jwtToken;\r\nif (token) {\r\n    setJWToken(token);\r\n    const decoded = jwt_decode(token)\r\n    store.dispatch({\r\n        type: SET_CURRENT_USER,\r\n        payload: decoded\r\n    })\r\n\r\n    const currentTime = Date.now() / 1000;\r\n\r\n    if (currentTime > decoded.exp) {\r\n        store.dispatch(logout());\r\n        window.location.href = \"/\";\r\n    }\r\n}\r\n\r\nfunction App() {\r\n    return (\r\n        <Provider store={store}>\r\n            <BrowserRouter>\r\n                <div className=\"App\">\r\n                    <Header />\r\n                    <Route exact path=\"/\" component={Landing} />\r\n                    <Route exact path=\"/login\" component={Login} />\r\n                    <Route exact path=\"/register\" component={Register} />\r\n                    <Route exact path=\"/add-book\" component={AddBook} />\r\n                    <Route exact path=\"/book/:id\" component={BookInfo} />\r\n                    <Route exact path=\"/notFound\" component={NotFound} />\r\n                    <Route exact path=\"/wrong\" component={Wrong} />\r\n                    <Switch>\r\n                        <PrivateRoute exact path=\"/user/:username\" component={Rent} />\r\n                    </Switch>\r\n                    <Switch>\r\n                        <PrivateRoute exact path=\"/admin\" component={Admin} />\r\n                    </Switch>\r\n                    {/*<Route exact path=\"/addProject\" component={AddProject} />*/}\r\n                    {/*<Route exact path=\"/updateProject/:id\" component={UpdateProject} />*/}\r\n                    {/*<Route exact path=\"/projectBoard/:id\" component={ProjectBoard} />*/}\r\n                    {/*<Route exact path=\"/addProjectTask/:id/\" component={AddProjectTask} />*/}\r\n                    {/*<Route exact path=\"/updateProjectTask/:id/:task_id\" component={UpdateProjectTask} />*/}\r\n                    <Footer />\r\n                </div>\r\n            </BrowserRouter>\r\n        </Provider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport axios from \"axios\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App/>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}